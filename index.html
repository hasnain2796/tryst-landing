"use client";

import Image from "next/image";
import { BackgroundGradientAnimation } from "@/app/components/ui/background-gradient-animation";
import {
  Navbar,
  NavBody,
  NavbarLogo,
  NavItems,
  NavbarButton,
  MobileNav,
  MobileNavHeader,
  MobileNavToggle,
  MobileNavMenu,
} from "./components/ui/resizable-navbar";
import { useState } from "react";
import { PinContainer } from "./components/ui/3d-pin";
import { InfiniteMovingCards } from "./components/ui/infinite-moving-cards";
import { motion } from "motion/react";

import { QRCodeCanvas } from "qrcode.react";
import { FlipWords } from "./components/ui/flip-words";

import { StickyScroll } from "./components/ui/sticky-scroll-reveal";
import {
  Calendar,
  MapPin,
  HeartHandshake,
  ShieldCheck,
  UserCheck,
  Users,
  AppWindow,
  CalendarX2,
  Ghost,
  MessageCircleOff,
  Rocket,
  Footprints,
} from "lucide-react";
import { DirectionAwareHover } from "./components/ui/direction-aware-hover";

export default function Home() {
  const [isOpen, setIsOpen] = useState(false);
  const navItems = [
    { name: "Home", link: "#Home" },
    { name: "How to Tryst", link: "#HowItWorks" },
    { name: "Venues", link: "#Venues" },
    { name: "Contact", link: "#Contact" },
  ];
const testimonials = [
  {
    quote:
      "Met someone in Shoreditch and actually went out. Didn’t think that was still a thing. Weirdly fun night.",
    name: "Liam H.",
    title: "London",
  },
  {
    quote:
      "I got a match and we hit a comedy night in Soho. Ended up laughing way too much. 10/10 would press Tryst again.",
    name: "Jade W.",
    title: "Hackney",
  },
  {
    quote:
      "Thought I’d just scroll like usual… ended up at a rooftop bar I’d never been to. Not bad at all.",
    name: "Arjun S.",
    title: "Shoreditch",
  },
  {
    quote:
      "The 5-day thing is stressful but low-key brilliant. Forces you to actually go see people instead of endless typing.",
    name: "Fiona R.",
    title: "Camden",
  },
  {
    quote:
      "Booked a weird little sushi place in Soho with someone I barely knew. Turned out to be the best accidental date ever.",
    name: "Tommy K.",
    title: "Soho",
  },
];
  const content = [
    {
      title: "1. Match",
      description:
        "Find someone who gets you , your culture, your layers. No pressure, just possibility.",
      content: (
        <div className="flex h-full w-full items-center justify-center bg-black">
          <Image
            src="/match.avif"
            alt="People vibing at a rooftop bar"
            width={400}
            height={400}
            className="rounded-2xl shadow-xl object-cover"
          />
          <HeartHandshake className="absolute bottom-6 right-6 w-10 h-10 text-pink-400" />
        </div>
      ),
    },
    {
      title: "2. Press Tryst",
      description:
        "This isn’t endless small talk. Hit the Tryst button and the clock starts. You’ve got 5 days to make it out in to real life! No more ghosting. No more waiting. Our 5-day timer ensures dates happen, or the match disappears. Go touch grass my little keyboard warrior.",
      content: (
        <div className="flex h-full w-full items-center justify-center bg-gradient-to-br from-pink-600 to-indigo-600">
          <Calendar className="w-16 h-16 text-white" />
          <span className="ml-4 text-3xl font-bold text-white">5 Days</span>
        </div>
      ),
    },
    {
      title: "3. Book Instantly",
      description:
        "Pick your spot — tapas, rooftop cocktails, comedy night, or a 5k with our run club. Free to book, no extra fees. Just show up .",
      content: (
        <div className="relative flex h-full w-full items-center justify-center bg-black">
          <Image
            src="/wine-clink.jpg"
            alt="Cocktails on a table"
            width={400}
            height={400}
            className="rounded-2xl shadow-xl object-cover"
          />
          <MapPin className="absolute bottom-6 right-6 w-10 h-10 text-yellow-400" />
        </div>
      ),
    },
  ];

  return (
    <>

      {/* Navbar wrapper */}
      <Navbar className=" fixed">
        {/* Desktop Nav */}
        <NavBody>
          <NavbarLogo />
          <NavItems items={navItems} className="" />
          <NavbarButton variant="dark" href="#">
            Download
          </NavbarButton>
        </NavBody>

        {/* Mobile Nav */}
        <MobileNav>
          <MobileNavHeader>
            <NavbarLogo />
            <MobileNavToggle
              isOpen={isOpen}
              onClick={() => setIsOpen(!isOpen)}
            />
          </MobileNavHeader>

          <MobileNavMenu isOpen={isOpen} onClose={() => setIsOpen(false)}>
            {navItems.map((item, idx) => (
              <a
                key={idx}
                href={item.link}
                className="block w-full rounded-md px-4 py-2 text-lg text-neutral-700 dark:text-neutral-200"
                onClick={() => setIsOpen(false)}
              >
                {item.name}
              </a>
            ))}
            <NavbarButton href="/signup" className="w-full mt-4">
              Sign Up
            </NavbarButton>
          </MobileNavMenu>
        </MobileNav>
      </Navbar>

      <div className="relative min-h-screen w-full"></div>
      <div className="fixed inset-0 -z-10 ">
        <BackgroundGradientAnimation />
      </div>
      <div
        id="Home"
        className="absolute z-10 inset-0 flex items-center justify-center"
      >
        <div className="  font-sans flex flex-col-reverse md:flex-row items-center justify-center  gap-16 mt-[300px] sm:mt-[350px]">
          {/* Left side: text */}
          <div className="flex flex-col gap-6 md:gap-8 text-center md:text-left">
            <p className="text-gray-700 font-extrabold uppercase tracking-wide">
              London • iOS & Android
            </p>
            <h1 className="text-[clamp(2rem,4.6vw,3.6rem)]  font-black leading-tight tracking-tight text-gray-800">
              {"Dates that actually happen.".split(" ").map((word, index) => (
                <motion.span
                  key={index}
                  initial={{ opacity: 0, filter: "blur(4px)", y: 10 }}
                  whileInView={{ opacity: 1, filter: "blur(0px)", y: 0 }}
                  transition={{
                    duration: 0.3,
                    delay: index * 0.1,
                    ease: "easeInOut",
                  }}
                  className="mr-2 inline-block"
                >
                  {word}
                </motion.span>
              ))}
            </h1>
            <motion.p
              initial={{
                opacity: 0,
              }}
              whileInView={{
                opacity: 1,
              }}
              transition={{
                duration: 0.3,
                delay: 0.8,
              }}
              className=" italic text-[clamp(1rem,1.8vw,1.15rem)] text-gray-700 max-w-[42ch] mx-auto md:mx-0 md:text-justify"
            >
              No endless swiping. No awkward small talk. Just real dates,
              instantly booked on{" "}
              <strong className="font-semibold">Tryst</strong>
            </motion.p>

            {/* Store badges */}
            <div className="flex flex-col items-center gap-4 mt-4 md:flex-row md:items-start md:gap-6">
              {/* QR Code */}
              <div
                id="#download"
                className="p-3 flex justify-center md:justify-start  rounded-xl shadow border border-black/10 hover:scale-105 transition"
              >
                <QRCodeCanvas
                  value="https://www.trystapp.co.uk/"
                  size={140}
                  bgColor="#00000000"
                />
              </div>

              {/* Store Badges */}
              {/* <div className="flex flex-col items-center gap-3 sm:flex-row sm:gap-4">
          <a href="#" aria-label="Download on the App Store (coming soon)">
            <Image
              src="/assets/app-store-badge.svg"
              alt="App Store"
              width={148}
              height={44}
              className="w-32 sm:w-36 md:w-40"
            />
          </a>
          <a href="#" aria-label="Get it on Google Play (coming soon)">
            <Image
              src="/assets/google-play-badge.svg"
              alt="Google Play"
              width={148}
              height={44}
              className="w-32 sm:w-36 md:w-40"
            />
          </a>
        </div> */}
            </div>
            {/* Social Proof (Optional Logos) */}
            <div className="mt-6 flex flex-wrap items-center justify-center md:justify-start gap-6 opacity-70">
              <p className="text-gray-700">Book directly with:</p>
              <Image
                src="/sevenRoom.png"
                alt="SevenRooms"
                width={90}
                height={30}
              />
              <Image
                src="/opentable.png"
                alt="OpenTable"
                width={90}
                height={30}
              />
              <Image
                src="/designmynight.png"
                alt="DesignMyNight"
                width={90}
                height={30}
              />
            </div>
          </div>

          {/* Right side: your uploaded image */}
          <div className="flex justify-center md:justify-end mt-8 md:mt-0 hover:scale-105 transition">
            <Image
              src="/tryst-screen-1.png"
              alt="Intro screen"
              width={390}
              height={844} // keeps the aspect ratio
              className="rounded-3xl shadow-[0_35px_35px_rgba(0,0,0,0.25)] 0 w-full max-w-[390px] h-auto"
              quality={100}
            />
          </div>
        </div>
      </div>

      <motion.div
        initial={{
          opacity: 0,
        }}
        whileInView={{
          opacity: 1,
        }}
        transition={{
          duration: 0.3,
          delay: 0.2,
        }}
        className=" w-full flex items-center justify-center flex-col bg-white/30 backdrop-blur-sm mt-64 sm:mt-80 md:mt-96 rounded-3xl"
      >
        {/* Main content area */}
        {/* Stick scroll */}
        <section id="HowItWorks" className="bg-slate-950  ">
          {/* PROBLEM → SOLUTION SECTION */}
          <section id="problem-solution" className="bg-slate-950 px-8 py-20 ">
            <div className="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-16">
              {/* Problem Column */}
              <motion.div
                initial={{ opacity: 0, y: 30 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6, ease: "easeOut" }}
                viewport={{ once: true }}
                className="w-full md:w-1/2 text-center md:text-left"
              >
                <h2 className="text-3xl md:text-4xl font-bold text-fuchsia-700 mb-6">
                  Dating Apps are Broken 😞
                </h2>
                <ul className="space-y-4 text-lg text-gray-400">
                  <motion.li
                    initial={{ opacity: 0, x: -20 }}
                    whileInView={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.2, duration: 0.5 }}
                    viewport={{ once: true }}
                    className="flex items-center gap-3"
                  >
                    <MessageCircleOff className="w-6 h-6 text-fuchsia-700" />
                    Endless small talk that goes nowhere
                  </motion.li>

                  <motion.li
                    initial={{ opacity: 0, x: -20 }}
                    whileInView={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.3, duration: 0.5 }}
                    viewport={{ once: true }}
                    className="flex items-center gap-3"
                  >
                    <Ghost className="w-6 h-6 text-fuchsia-700" />
                    Ghosting after matching
                  </motion.li>

                  <motion.li
                    initial={{ opacity: 0, x: -20 }}
                    whileInView={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.4, duration: 0.5 }}
                    viewport={{ once: true }}
                    className="flex items-center gap-3"
                  >
                    <CalendarX2 className="w-6 h-6 text-fuchsia-700" />
                    Flaky plans that never happen
                  </motion.li>

                  <motion.li
                    initial={{ opacity: 0, x: -20 }}
                    whileInView={{ opacity: 1, x: 0 }}
                    transition={{ delay: 0.5, duration: 0.5 }}
                    viewport={{ once: true }}
                    className="flex items-center gap-3"
                  >
                    <AppWindow className="w-6 h-6 text-fuchsia-700" />
                    Too many apps, no real connections
                  </motion.li>
                </ul>
              </motion.div>

              {/* Solution Column */}
              <motion.div
                initial={{ opacity: 0, y: 30 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.6, delay: 0.4, ease: "easeOut" }}
                viewport={{ once: true }}
                className="w-full md:w-1/2 text-center md:text-left"
              >
                <div className="space-y-6 text-lg text-gray-400">
                  <p>
                    <span className="font-semibold text-cyan-500 text-3xl md:text-4xl">
                      Tryst{" "}
                    </span>{" "}
                    makes dating simple:
                    <span className="text-fuchsia-700">
                      {" "}
                      Match → Chat → Tryst
                    </span>
                    .
                  </p>

                  <p>
                    You matched — sick. ⏳ You’ve got 5 days to chat, swap
                    memes, send voice notes, or share playlists. But here’s the
                    deal: hit
                    <span className="font-semibold text-white">
                      {" "}
                      Tryst
                    </span>{" "}
                    before the clock runs out, or the match disappears. Poof. 💨
                  </p>

                  <ul className="space-y-4">
                    <li className="flex items-center gap-3">
                      <Rocket className="w-6 h-6 text-cyan-500" />
                      <span className="text-gray-300">
                        Real dates, not dead chats
                      </span>
                    </li>
                    <li className="flex items-center gap-3">
                      <CalendarX2 className="w-6 h-6 text-cyan-500" />
                      <span className="text-gray-300">
                        5 days to make it real
                      </span>
                    </li>
                    <li className="flex items-center gap-3">
                      <Footprints className="w-6 h-6 text-cyan-500" />
                      <span className="text-gray-300">
                        Instantly book a date at a trusted venue. No fees, no
                        fuss.
                      </span>
                    </li>
                  </ul>

                  <p className="pt-2">
                    Not Hinge. Not Bumble. Tryst —{" "}
                    <em>the next step in dating.</em>
                    <span className="font-semibold text-white">
                      {" "}
                      real connections, real people, real life
                    </span>{" "}
                    — welcome. 🚀
                  </p>
                </div>

                {/* <motion.button
        initial={{ opacity: 0, scale: 0.9 }}
        whileInView={{ opacity: 1, scale: 1 }}
        transition={{ delay: 1.1, duration: 0.5 }}
        viewport={{ once: true }}
        className="mt-6 px-6 py-3 bg-pink-500 text-white rounded-full font-semibold shadow hover:scale-105 transition"
      >
        Try Tryst in London
      </motion.button> */}
              </motion.div>
            </div>
          </section>

          <StickyScroll content={content} />
        </section>
        {/* Venue Partners */}
        <section id="FirstStop" className="  w-screen bg-slate-950 ">
          <div className="max-w-6xl mx-auto flex  flex-col md:flex-row items-center gap-12">
            {/* Left: Image */}
            <div className="w-full md:w-1/2 ">
              <div className="h-[40rem] w-full flex items-center justify-center ">
                <PinContainer title="Bar Kroketa Beak Street">
                  <div className="flex basis-full flex-col p-4 tracking-tight text-slate-100/50 sm:basis-1/2 w-[20rem] h-[20rem] ">
                    <h3 className="max-w-xs !pb-2 !m-0 font-bold  text-base text-slate-100">
                      Lavan
                    </h3>
                    <div className="text-base !m-0 !p-0 font-normal ">
                      <span className="text-slate-500 ">
                      &quot;Hey, you wanna grab some tapas and wine? How does this
                      look 💃.&quot;
                      </span>
                    </div>
                    <div className="flex flex-1 w-full rounded-lg mt-2 bg-gradient-to-br from-violet-500 via-purple-500 to-blue-500">
                      <Image
                        src="/inside-bar.png"
                        width={500}
                        height={500}
                        alt="Picture of the author"
                      />
                    </div>
                  </div>
                </PinContainer>
              </div>
            </div>

            {/* Right: Text */}
            <div className="w-full md:w-1/2 text-center md:text-left ">
              <h2 className="text-3xl md:text-4xl font-bold text-gray-200 ">
                <span className="font-semibold text-cyan-500">First Stop:</span>{" "}
                London
              </h2>

              <motion.p
                initial={{
                  opacity: 0,
                }}
                animate={{
                  opacity: 1,
                }}
                transition={{
                  duration: 0.3,
                  delay: 0.8,
                }}
                className="text-[clamp(1rem,1.8vw,1.15rem)] text-gray-400 max-w-[42ch] mx-auto md:mx-0 md:text-justify"
              >
                Rooftop cocktails in Shoreditch. Comedy nights in Soho
                basements. Sunday roasts that hit different in Hackney pubs.
                Long walks through Hyde Park London&#39;s full of ways to connect.
                That&#39;s why we&#39;re starting here — a city with all the niche spots
                only you know., We know you&#39;ve got that one favorite hidden
                gem—the one you&#39;ve been dying to share, but you just needed the
                right person to go with. 
                On Tryst, authenticity is the most
                attractive thing you can bring.
              </motion.p>
            </div>
          </div>
        </section>

        {/* Venue Partners */}
        <section className="w-screen items-center justify-center bg-slate-950 px-10">
          <motion.h2
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.6 }}
            viewport={{ once: true }}
            className="text-3xl md:text-4xl font-bold text-cyan-500 mb-6"
          >
            Discover venues you&#39;ll love
          </motion.h2>
          <h2 className="text-xl md:text-xl font-bold text-gray-100">
            How about{" "}
            <FlipWords
              words={[
                "tapas",
                "cocktails",
                "a museum",
                "mini-golf",
                "a comedy show",
                "sushi",
                "karaoke",
                "pizza",
                "bowling",
                "a rooftop bar",
                "street food",
                "wine tasting",
                "brunch",
                "live music",
                "theatre",
                "a football match",
                "arcades",
                "a picnic",
                "escape rooms",
              ]}
            />{" "}
            for your next date?
          </h2>

          {/* Supporting line */}
          <motion.p
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.2, duration: 0.6 }}
            viewport={{ once: true }}
            className="text-gray-400 max-w-2xl  mt-6 mb-12 leading-relaxed"
          >
            You can choose from any venue you like — but our{" "}
            <span className="font-semibold text-cyan-500">
              Tryst Venue Partners
            </span>{" "}
            <span className="inline-flex items-center gap-1">
              <span className="text-green-400 font-bold">✅</span>
              <em>hand-picked venues</em>
            </span>{" "}
            put your safety — and your experience — first. Whether you pick a
            Partner spot or your own, there are plenty of trusted spaces ready
            for you to <em>show up and vibe</em>.
          </motion.p>

          {/* Placeholder grid */}
          <div className="relative flex flex-col md:flex-row  gap-6 items-center justify-center h-auto  px-4 md:px-0 mx-auto ">
            <DirectionAwareHover imageUrl="/gravity.jpg">
              <p className="font-bold text-xl">Gravity Wandsworth</p>
              <p className="font-normal text-sm">
                Unleash your competitive side — arcade games, bowling, and just
                enough rivalry to keep the sparks flying.
              </p>
            </DirectionAwareHover>
            <DirectionAwareHover imageUrl="/sofar.jpeg">
              <p className="font-bold text-xl">Sofar Sounds</p>
              <p className="font-normal text-sm">
                Forget shouting over bar noise — Sofar shows make your date feel
                like a private gig
              </p>
            </DirectionAwareHover>
            <DirectionAwareHover imageUrl="/brooklyn.avif">
              <p className="font-bold text-xl">Sunday in Brooklyn</p>
              <p className="font-normal text-sm">
                Brunch that turns into cocktails… that maybe turns into a second
                date.
              </p>
            </DirectionAwareHover>
          </div>
          {/* CTA */}
          <div>
            <motion.p
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ delay: 0.7, duration: 0.6 }}
              viewport={{ once: true }}
              className="mt-12 text-gray-100"
            >
              Want to host dates at your venue?{" "}
              <a
                href="/partners"
                className="text-cyan-500 font-semibold hover:underline "
              >
                Become a Tryst Partner
              </a>
            </motion.p>
          </div>
        </section>

        {/* SAFETY & TRUST SECTION */}
        <section id="safety" className="bg-slate-950 px-8 py-32 w-screen">
          <div className="max-w-6xl mx-auto text-center">
            {/* Section Title */}
            <motion.h2
              initial={{ opacity: 0, y: 30 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6, ease: "easeOut" }}
              viewport={{ once: true }}
              className="text-3xl md:text-4xl font-bold text-gray-200 mb-16"
            >
              Safety First, Always 🛡️
            </motion.h2>

            {/* 4 Safety Features */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-12 text-left">
              {/* Verified Venues */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.2, duration: 0.6 }}
                viewport={{ once: true }}
                className="flex flex-col items-center md:items-start"
              >
                <div className="bg-pink-500/10 p-4 rounded-full mb-4">
                  <ShieldCheck className="w-10 h-10 text-pink-400" />
                </div>
                <h3 className="text-xl font-semibold text-white mb-2">
                  Verified Venues
                </h3>
                <p className="text-gray-400">
                  Tryst Venue Partners are restaurant, bar, and activity
                  partners who are vetted by us to ensure they have your safety
                  in mind — so your date happens in trusted, safe spaces.
                </p>
              </motion.div>

              {/* Verified Profiles */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.3, duration: 0.6 }}
                viewport={{ once: true }}
                className="flex flex-col items-center md:items-start"
              >
                <div className="bg-green-500/10 p-4 rounded-full mb-4">
                  <UserCheck className="w-10 h-10 text-green-400" />
                </div>
                <h3 className="text-xl font-semibold text-white mb-2">
                  Verified Profiles
                </h3>
                <p className="text-gray-400">
                  No bots. No catfish. Every user is verified before they can
                  match or message — keeping Tryst real and authentic.
                </p>
              </motion.div>

              {/* Privacy & Security */}

              {/* Tryst Safety Net */}
              <motion.div
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.5, duration: 0.6 }}
                viewport={{ once: true }}
                className="flex flex-col items-center md:items-start"
              >
                <div className="bg-purple-500/10 p-4 rounded-full mb-4">
                  <Users className="w-10 h-10 text-purple-400" />
                </div>
                <h3 className="text-xl font-semibold text-white mb-2">
                  Tryst Safety Net
                </h3>
                <p className="text-gray-400">
                  Share your date details with trusted friends — or let Tryst
                  keep a record of where you’re going and who you’re meeting. If
                  something ever goes wrong, we’ve got your back.
                </p>
              </motion.div>
            </div>
          </div>
        </section>

        {/* Testimonials */}
        <section className="w-screen items-center justify-center bg-slate-950 px-10">
          <h2 className="text-3xl md:text-4xl font-bold text-gray-300">
            Why People Love Tryst
          </h2>
          <div className=" flex flex-col antialiased  items-center justify-center relative overflow-hidden w-full mt-16">
            <InfiniteMovingCards
              items={testimonials}
              direction="right"
              speed="slow"
            />
          </div>
        </section>
        {/* CTA */}
        <section className="py-32 bg-slate-950 w-screen flex flex-col items-center justify-center">
          <h2 className="text-3xl md:text-4xl font-bold text-cyan-500">
            Ready to stop chatting and start dating?
          </h2>
          <div className="flex flex-col md:flex-row justify-center gap-6 mt-8">
            {/* <Image
              src="/appstore-badge.png"
              alt="App Store"
              width={180}
              height={60}
            />
            <Image
              src="/googleplay-badge.png"
              alt="Google Play"
              width={180}
              height={60}
            /> */}
          </div>
        </section>
        {/* Footer */}
        <footer className="py-10 text-gray-200 text-sm bg-slate-950 w-screen flex flex-col items-center">
          <div className="flex justify-center gap-6">
            <a href="#">Home</a>
            <a href="#HowToTryst">How To Tryst</a>
            <a href="#FirstStop">Venues</a>
            <a href="#">Contact</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
          </div>
          <p className="mt-4">
            &copy; {new Date().getFullYear()} Tryst. All rights reserved.
          </p>
        </footer>
      </motion.div>
    </>
  );
}
